const Sitemapper = require('sitemapper');
const axios = require('axios');
const cheerio = require('cheerio');
const { isMappedTypeNode } = require('typescript');
const u = [
"https://www.nixon.com/us/en/time-teller/A045-000-00.html",
"https://www.nixon.com/us/en/time-teller/A045-001-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1041-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1258-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1604-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1696-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1919-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1920-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1921-00.html",
"https://www.nixon.com/us/en/time-teller/A045-1931-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2001-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2042-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2073-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2125-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2598-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2735-00.html",
"https://www.nixon.com/us/en/time-teller/A045-2879-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3053-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3102-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3107-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3108-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3109-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3166-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3237-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3238-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3239-00.html",
"https://www.nixon.com/us/en/time-teller/A045-3333-00.html",
"https://www.nixon.com/us/en/time-teller/A045-343-00.html",
"https://www.nixon.com/us/en/time-teller/A045-508-00.html",
"https://www.nixon.com/us/en/time-teller/A045-511-00.html",
"https://www.nixon.com/us/en/time-teller/A045-897-00.html",
"https://www.nixon.com/us/en/time-teller/A045-957-00.html",
"https://www.nixon.com/us/en/time-teller-custom/A045-2800-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-000-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-1041-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-1062-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-1921-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-1922-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-1932-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-2194-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-3086-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-3132-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-3331-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-3334-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-3416-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-488-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-502-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-508-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-510-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-514-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-632-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-681-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-897-00.html",
"https://www.nixon.com/us/en/51-30-chrono/A083-957-00.html",
"https://www.nixon.com/us/en/kensington/A099-001-00.html",
"https://www.nixon.com/us/en/kensington/A099-1045-00.html",
"https://www.nixon.com/us/en/kensington/A099-2042-00.html",
"https://www.nixon.com/us/en/kensington/A099-2062-00.html",
"https://www.nixon.com/us/en/kensington/A099-2878-00.html",
"https://www.nixon.com/us/en/kensington/A099-3005-00.html",
"https://www.nixon.com/us/en/kensington/A099-3029-00.html",
"https://www.nixon.com/us/en/kensington/A099-3161-00.html",
"https://www.nixon.com/us/en/kensington/A099-502-00.html",
"https://www.nixon.com/us/en/kensington/A099-508-00.html",
"https://www.nixon.com/us/en/kensington/A099-897-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-001-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-1041-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-1113-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-1524-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-1531-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2001-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2442-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2496-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2621-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2737-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2867-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2871-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-2984-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3053-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3087-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3101-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3106-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3211-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3249-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3320-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3332-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-3411-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-510-00.html",
"https://www.nixon.com/us/en/sentry-leather/A105-513-00.html",
"https://www.nixon.com/us/en/sentry-custom/A105-2800-00.html",
"https://www.nixon.com/us/en/porter/A1057-001-00.html",
"https://www.nixon.com/us/en/porter/A1057-010-00.html",
"https://www.nixon.com/us/en/porter/A1057-1031-00.html",
"https://www.nixon.com/us/en/porter/A1057-2042-00.html",
"https://www.nixon.com/us/en/porter/A1057-2443-00.html",
"https://www.nixon.com/us/en/porter/A1057-3316-00.html",
"https://www.nixon.com/us/en/porter/A1057-756-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-001-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-1031-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-1098-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-2368-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-2442-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-2494-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-2984-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-3053-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-3173-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-3210-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-513-00.html",
"https://www.nixon.com/us/en/porter-leather/A1058-879-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-000-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-1045-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-1098-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-1420-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-2160-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-2195-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-2226-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-236-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-2879-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-2990-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3149-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3157-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3229-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3230-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3231-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-3232-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-501-00.html",
"https://www.nixon.com/us/en/kensington-leather/A108-513-00.html",
"https://www.nixon.com/us/en/arrow/A1090-001-00.html",
"https://www.nixon.com/us/en/arrow/A1090-010-00.html",
"https://www.nixon.com/us/en/arrow/A1090-1920-00.html",
"https://www.nixon.com/us/en/arrow/A1090-2640-00.html",
"https://www.nixon.com/us/en/arrow/A1090-2800-00.html",
"https://www.nixon.com/us/en/arrow/A1090-502-00.html",
"https://www.nixon.com/us/en/arrow/A1090-504-00.html",
"https://www.nixon.com/us/en/arrow/A1090-897-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-1098-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2239-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2369-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2621-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2704-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2769-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2878-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-2879-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-3005-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-3006-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-3026-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-3027-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-3162-00.html",
"https://www.nixon.com/us/en/arrow-leather/A1091-513-00.html",
"https://www.nixon.com/us/en/arrow-custom/A1091-2800-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-001-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-018-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-083-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-1114-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-200-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-2556-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-2773-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-3176-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-3177-00.html",
"https://www.nixon.com/us/en/base-tide/A1104-3178-00.html",
"https://www.nixon.com/us/en/base/A1107-000-00.html",
"https://www.nixon.com/us/en/base/A1107-001-00.html",
"https://www.nixon.com/us/en/base/A1107-1031-00.html",
"https://www.nixon.com/us/en/base/A1107-502-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-001-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-1920-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-2195-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-2617-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-2626-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-2877-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-2878-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-502-00.html",
"https://www.nixon.com/us/en/medium-time-teller/A1130-897-00.html",
"https://www.nixon.com/us/en/clutch/A1166-1420-00.html",
"https://www.nixon.com/us/en/clutch/A1166-1920-00.html",
"https://www.nixon.com/us/en/clutch/A1166-2618-00.html",
"https://www.nixon.com/us/en/clutch/A1166-504-00.html",
"https://www.nixon.com/us/en/clutch/A1166-513-00.html",
"https://www.nixon.com/us/en/base-tide-nylon/A1169-001-00.html",
"https://www.nixon.com/us/en/base-tide-nylon/A1169-1085-00.html",
"https://www.nixon.com/us/en/regulus/A1180-001-00.html",
"https://www.nixon.com/us/en/regulus/A1180-008-00.html",
"https://www.nixon.com/us/en/regulus/A1180-2711-00.html",
"https://www.nixon.com/us/en/regulus/A1180-2865-00.html",
"https://www.nixon.com/us/en/regulus/A1180-2889-00.html",
"https://www.nixon.com/us/en/regulus/A1180-3015-00.html",
"https://www.nixon.com/us/en/regulus/A1180-3100-00.html",
"https://www.nixon.com/us/en/regulus/A1180-3175-00.html",
"https://www.nixon.com/us/en/regulus/A1180-3407-00.html",
"https://www.nixon.com/us/en/regulus/A1180-632-00.html",
"https://www.nixon.com/us/en/regulus/A1180-760-00.html",
"https://www.nixon.com/us/en/regulus/A1180-867-00.html",
"https://www.nixon.com/us/en/regulus/A1180-961-00.html",
"https://www.nixon.com/us/en/time-teller-milanese/A1187-001-00.html",
"https://www.nixon.com/us/en/time-teller-milanese/A1187-1920-00.html",
"https://www.nixon.com/us/en/time-teller-milanese/A1187-2807-00.html",
"https://www.nixon.com/us/en/time-teller-milanese/A1187-502-00.html",
"https://www.nixon.com/us/en/time-teller-milanese/A1187-897-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-000-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-1030-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-1244-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3011-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3012-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3013-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3014-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3143-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3145-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3146-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3170-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3171-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-3172-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-524-00.html",
"https://www.nixon.com/us/en/time-teller-p/A119-692-00.html",
"https://www.nixon.com/us/en/k-squared-milanese/A1206-897-00.html",
"https://www.nixon.com/us/en/ascender/A1208-1920-00.html",
"https://www.nixon.com/us/en/ascender/A1208-2474-00.html",
"https://www.nixon.com/us/en/ascender/A1208-2735-00.html",
"https://www.nixon.com/us/en/ascender/A1208-722-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-1045-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-1098-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-178-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-1859-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-2970-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-3163-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-3413-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-3461-00.html",
"https://www.nixon.com/us/en/siren-stainless-steel/A1211-508-00.html",
"https://www.nixon.com/us/en/medium-time-teller-acetate/A1214-2930-00.html",
"https://www.nixon.com/us/en/medium-time-teller-acetate/A1214-400-00.html",
"https://www.nixon.com/us/en/medium-time-teller-p/A1215-2885-00.html",
"https://www.nixon.com/us/en/medium-time-teller-p/A1215-309-00.html",
"https://www.nixon.com/us/en/medium-time-teller-p/A1215-536-00.html",
"https://www.nixon.com/us/en/medium-time-teller-p/A1215-685-00.html",
"https://www.nixon.com/us/en/kensington-milanese/A1229-1920-00.html",
"https://www.nixon.com/us/en/kensington-milanese/A1229-3223-00.html",
"https://www.nixon.com/us/en/kensington-milanese/A1229-3224-00.html",
"https://www.nixon.com/us/en/kensington-milanese/A1229-502-00.html",
"https://www.nixon.com/us/en/kensington-milanese/A1229-897-00.html",
"https://www.nixon.com/us/en/arrow-milanese/A1238-1920-00.html",
"https://www.nixon.com/us/en/patrol/A1242-1041-00.html",
"https://www.nixon.com/us/en/patrol/A1242-1531-00.html",
"https://www.nixon.com/us/en/patrol/A1242-180-00.html",
"https://www.nixon.com/us/en/patrol/A1242-1849-00.html",
"https://www.nixon.com/us/en/patrol/A1242-3132-00.html",
"https://www.nixon.com/us/en/patrol/A1242-3316-00.html",
"https://www.nixon.com/us/en/patrol/A1242-502-00.html",
"https://www.nixon.com/us/en/patrol/A1242-513-00.html",
"https://www.nixon.com/us/en/patrol/A1242-632-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-1113-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-2186-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-2998-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-3210-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-3255-00.html",
"https://www.nixon.com/us/en/patrol-leather/A1243-595-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-000-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-001-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-005-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-1041-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-3165-00.html",
"https://www.nixon.com/us/en/time-tracker/A1245-502-00.html",
"https://www.nixon.com/us/en/51-30/A1246-3105-00.html",
"https://www.nixon.com/us/en/time-teller-p-corp/A1248-2493-00.html",
"https://www.nixon.com/us/en/time-teller-p-corp/A1248-3008-00.html",
"https://www.nixon.com/us/en/time-teller-p-corp/A1248-3009-00.html",
"https://www.nixon.com/us/en/time-teller-p-corp/A1248-3010-00.html",
"https://www.nixon.com/us/en/clique/A1249-001-00.html",
"https://www.nixon.com/us/en/clique/A1249-1921-00.html",
"https://www.nixon.com/us/en/clique/A1249-2762-00.html",
"https://www.nixon.com/us/en/clique/A1249-2879-00.html",
"https://www.nixon.com/us/en/clique/A1249-502-00.html",
"https://www.nixon.com/us/en/clique/A1249-513-00.html",
"https://www.nixon.com/us/en/clique/A1249-897-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-007-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-1113-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-178-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-2239-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-3157-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-3317-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-3318-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-510-00.html",
"https://www.nixon.com/us/en/clique-leather/A1250-513-00.html",
"https://www.nixon.com/us/en/lynx-acetate/A1259-2336-00.html",
"https://www.nixon.com/us/en/lynx-acetate/A1259-3142-00.html",
"https://www.nixon.com/us/en/lynx-acetate/A1259-647-00.html",
"https://www.nixon.com/us/en/medium-kensington/A1260-001-00.html",
"https://www.nixon.com/us/en/medium-kensington/A1260-1920-00.html",
"https://www.nixon.com/us/en/medium-kensington/A1260-502-00.html",
"https://www.nixon.com/us/en/medium-kensington/A1260-897-00.html",
"https://www.nixon.com/us/en/medium-kensington-leather/A1261.html",
"https://www.nixon.com/us/en/medium-kensington-leather/A1261-2239-00.html",
"https://www.nixon.com/us/en/ticket/A1262-001-00.html",
"https://www.nixon.com/us/en/ticket/A1262-502-00.html",
"https://www.nixon.com/us/en/ticket/A1262-897-00.html",
"https://www.nixon.com/us/en/dork-too/A1266-000-00.html",
"https://www.nixon.com/us/en/dork-too/A1266-001-00.html",
"https://www.nixon.com/us/en/dork-too/A1266-502-00.html",
"https://www.nixon.com/us/en/dork-too/A1266-897-00.html",
"https://www.nixon.com/us/en/ripley/A1267-000-00.html",
"https://www.nixon.com/us/en/ripley/A1267-008-00.html",
"https://www.nixon.com/us/en/ripley/A1267-1089-00.html",
"https://www.nixon.com/us/en/ripley/A1267-131-00.html",
"https://www.nixon.com/us/en/ripley/A1267-625-00.html",
"https://www.nixon.com/us/en/regulus-stainless-steel/A1268-000-00.html",
"https://www.nixon.com/us/en/regulus-stainless-steel/A1268-001-00.html",
"https://www.nixon.com/us/en/regulus-stainless-steel/A1268-131-00.html",
"https://www.nixon.com/us/en/regulus-stainless-steel/A1268-502-00.html",
"https://www.nixon.com/us/en/siren-milanese/A1272-001-00.html",
"https://www.nixon.com/us/en/siren-milanese/A1272-1431-00.html",
"https://www.nixon.com/us/en/siren-milanese/A1272-1920-00.html",
"https://www.nixon.com/us/en/siren-milanese/A1272-502-00.html",
"https://www.nixon.com/us/en/siren-milanese/A1272-897-00.html",
"https://www.nixon.com/us/en/clique-milanese/A1289-1920-00.html",
"https://www.nixon.com/us/en/medium-time-teller-milanese/A1290.html",
"https://www.nixon.com/us/en/medium-time-teller-milanese/A1290-1920-00.html",
"https://www.nixon.com/us/en/5th-element/A1294-000-00.html",
"https://www.nixon.com/us/en/5th-element/A1294-1420-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-000-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-1085-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-1543-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-1695-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-209-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-272-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-2889-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-3327-00.html",
"https://www.nixon.com/us/en/base-tide-pro/A1307-867-00.html",
"https://www.nixon.com/us/en/high-tide/A1308-001-00.html",
"https://www.nixon.com/us/en/high-tide/A1308-008-00.html",
"https://www.nixon.com/us/en/high-tide/A1308-145-00.html",
"https://www.nixon.com/us/en/high-tide/A1308-2889-00.html",
"https://www.nixon.com/us/en/staple/A1309-000-00.html",
"https://www.nixon.com/us/en/staple/A1309-010-00.html",
"https://www.nixon.com/us/en/staple/A1309-135-00.html",
"https://www.nixon.com/us/en/staple/A1309-200-00.html",
"https://www.nixon.com/us/en/staple/A1309-2889-00.html",
"https://www.nixon.com/us/en/staple/A1309-333-00.html",
"https://www.nixon.com/us/en/staple/A1309-867-00.html",
"https://www.nixon.com/us/en/rival/A1310-001-00.html",
"https://www.nixon.com/us/en/rival/A1310-1154-00.html",
"https://www.nixon.com/us/en/rival/A1310-198-00.html",
"https://www.nixon.com/us/en/rival/A1310-2531-00.html",
"https://www.nixon.com/us/en/siren/A1311-001-00.html",
"https://www.nixon.com/us/en/siren/A1311-100-00.html",
"https://www.nixon.com/us/en/siren/A1311-234-00.html",
"https://www.nixon.com/us/en/siren/A1311-2930-00.html",
"https://www.nixon.com/us/en/siren/A1311-3154-00.html",
"https://www.nixon.com/us/en/siren/A1311-3408-00.html",
"https://www.nixon.com/us/en/heat/A1320-001-00.html",
"https://www.nixon.com/us/en/heat/A1320-1085-00.html",
"https://www.nixon.com/us/en/heat/A1320-130-00.html",
"https://www.nixon.com/us/en/rubber-player/A139.html",
"https://www.nixon.com/us/en/rubber-player/A139-649-00.html",
"https://www.nixon.com/us/en/rubber-player/A139-685-00.html",
"https://www.nixon.com/us/en/re-run/A158-000-00.html",
"https://www.nixon.com/us/en/re-run/A158-001-00.html",
"https://www.nixon.com/us/en/re-run/A158-343-00.html",
"https://www.nixon.com/us/en/re-run/A158-502-00.html",
"https://www.nixon.com/us/en/re-run/A158-632-00.html",
"https://www.nixon.com/us/en/re-run/A158-894-00.html",
"https://www.nixon.com/us/en/re-run/A158-897-00.html",
"https://www.nixon.com/us/en/unit/A197-000-00.html",
"https://www.nixon.com/us/en/unit/A197-100-00.html",
"https://www.nixon.com/us/en/unit/A197-1085-00.html",
"https://www.nixon.com/us/en/unit/A197-624-00.html",
"https://www.nixon.com/us/en/automatic/A209-760-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-1116-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-2336-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-3233-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-3250-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-3346-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-646-00.html",
"https://www.nixon.com/us/en/time-teller-acetate/A327-718-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-000-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-001-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-010-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-1041-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-1062-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-1439-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-1919-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-1922-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-3104-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-3249-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-3256-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-3334-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-3416-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-502-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-510-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-897-00.html",
"https://www.nixon.com/us/en/corporal-stainless-steel/A346-957-00.html",
"https://www.nixon.com/us/en/player-automatic/A352-2256-00.html",
"https://www.nixon.com/us/en/player-automatic/A352-2396-00.html",
"https://www.nixon.com/us/en/supremacy/A353-2250-00.html",
"https://www.nixon.com/us/en/supremacy/A353-2259-00.html",
"https://www.nixon.com/us/en/supremacy/A353-2260-00.html",
"https://www.nixon.com/us/en/supremacy/A353-293-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-001-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1041-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1147-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1258-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-131-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1439-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1696-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1919-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1921-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-1922-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-2348-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-2735-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-2800-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-3165-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-3166-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-3334-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-3416-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-343-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-502-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-504-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-508-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-510-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-595-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-632-00.html",
"https://www.nixon.com/us/en/sentry-stainless-steel/A356-957-00.html",
"https://www.nixon.com/us/en/unit-stainless-steel/A360-032-00.html",
"https://www.nixon.com/us/en/unit-stainless-steel/A360-1263-00.html",
"https://www.nixon.com/us/en/unit-stainless-steel/A360-502-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-000-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-001-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-1041-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-1258-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-1922-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-2691-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-3256-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-502-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-510-00.html",
"https://www.nixon.com/us/en/sentry-chrono/A386-632-00.html",
"https://www.nixon.com/us/en/small-time-teller/A399-1920-00.html",
"https://www.nixon.com/us/en/small-time-teller/A399-2195-00.html",
"https://www.nixon.com/us/en/small-time-teller/A399-502-00.html",
"https://www.nixon.com/us/en/small-time-teller/A399-897-00.html",
"https://www.nixon.com/us/en/small-time-teller/A399-957-00.html",
"https://www.nixon.com/us/en/sentry-chrono-leather/A405-2639-00.html",
"https://www.nixon.com/us/en/sentry-chrono-leather/A405-3088-00.html",
"https://www.nixon.com/us/en/diplomatic/A429-000-00.html",
"https://www.nixon.com/us/en/diplomatic/A429-001-00.html",
"https://www.nixon.com/us/en/diplomatic/A429-1418-00.html",
"https://www.nixon.com/us/en/diplomatic/A429-2250-00.html",
"https://www.nixon.com/us/en/diplomatic/A429-293-00.html",
"https://www.nixon.com/us/en/descender/A959-1147-00.html",
"https://www.nixon.com/us/en/descender/A959-1258-00.html",
"https://www.nixon.com/us/en/descender/A959-2735-00.html",
"https://www.nixon.com/us/en/descender-sport/A960-001-00.html",
"https://www.nixon.com/us/en/descender-sport/A960-1258-00.html",
];
const indexing = async context => {
    const { client, entry, base, interval } = context;
    const source = 'official';
    const lang = 'en';
    const brand = 'Nixon';
    const brandID = 472;
    const result = { source, lang, brand, brandID, collections: [], items: {} };
    try {
        const sm = new Sitemapper({
            url: entry,
            timeout: 300000,
        })
        const s = await sm.fetch();
        s.sites.forEach(url => {
            const u = url.split('/');
            const reference = u[u.length - 1].replace('.html', '').toUpperCase();
            if (reference.indexOf('-') > 0 && reference.match(/^A/i)) {                 // watches reference starts with A: Annn-nnnn-nn
                const collection = u[u.length - 2].replace('-', ' ').toUpperCase();
                const name = collection;
                if (result.collections.indexOf(collection) < 0) {
                    result.collections.push(collection);
                    result.items[collection] = [];
                }
                result.items[collection].push({
                    source, lang, brand, brandID, url, collection, name,
                    reference, thumbnail: null, retail: null,
                })
    
            }
        })
        return result;
    } catch (error) {
        console.error('Failed indexing for Nixon with error : ', error);
        console.error('entry : ', entry);
        return {}
    }
}

const extraction = async context => {
    const { client, entry, base, ...rest } = context;
    const result = { ...rest, url: entry, spec: [], related: [], };
    result.source = 'official';
    result.lang = 'en';
    result.brand = 'Nixon';
    result.brandID = 472;
    try {
        const { data } = await client.get(entry);
        const $ = cheerio.load(data);
        result.name = $(".product-name").first().text().replace(/\s+/g, ' ').trim();
        result.description = $(".product-description").first().text().replace(/\s+/g, ' ').trim();
        result.retail = $(".product-price").first().text().replace(/\s+/g, ' ').trim();
        result.collection = result.name;
        result.thumbnail = $(".thumbnail-link").first().attr("href");
        result.reference = $(".thumbnail-link").first().attr("data-action");
        result.gender = $(".thumbnail-link").first().attr("data-group2");
        // call mappers for gender normalize
        result.price = $(".price-sales").first().text();
        result.retail = $(".price-standard").first().text();
        if (!result.retail) result.retail = result.price;
        let key = ""; let value = "";
        $(".pdp-features__list").children().each((idx, el) => {
            const ty = $(el).attr("class");
            if (ty === "pdp-features__name") key = $(el).text().replace(/\s+/g,' ').trim();
            else if (ty === "pdp-features__value") {
                value = $(el).text().replace(/\s+/g,' ').trim();
                if (value) result.spec.push({key, value});
                key = ""; value = "";
            }
        })
    } catch (error) {
        console.error('Failed extraction for Nixon with error : ' + error);
        console.error('entry :', entry);
        if (error.response) result.code = error.response.status;
        else result.code = 'UNKNOWN ERROR';
    }
    return result;
}

(async() => {
    // const r = await indexing({
    //     client: axios,
    //     entry: "https://www.nixon.com/sitemap_products_en_US.xml",
    //     base: "https://www.nixon.com",
    // })
    // let cntUS = 0;
    // r.collections && r.collections.forEach(c => {
    //     r.items[c].forEach(w => {
    //         console.log(w.url);
    //         cntUS++;
    //     })
    // })
    // console.log(`US watches : ${cntUS}`);
    const sp = [];
    for (let i = 0; i < u.length-1; i++) {
        const ex = await extraction({
            client: axios,
            entry: u[i],
            base: "https://www.nixon.com",
        })

        console.log(ex.url);
        ex.spec.forEach(s => {
            console.log(s.key+' | '+s.value);
            if (sp.indexOf(s.key+' | '+s.value) < 0) sp.push(s.key+' | '+s.value);
        })
        console.log();
    }

    sp.sort().forEach(s => {
        console.log(s)
    })

    process.exit(0);
})();